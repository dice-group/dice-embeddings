dicee.knowledge_graph
=====================

.. py:module:: dicee.knowledge_graph

.. autoapi-nested-parse::

   Knowledge Graph module for data loading and preprocessing.

   Provides the KG class for handling knowledge graph data including
   loading, preprocessing, and indexing operations.



Classes
-------

.. autoapisummary::

   dicee.knowledge_graph.KG


Module Contents
---------------

.. py:class:: KG(dataset_dir: Optional[str] = None, byte_pair_encoding: bool = False, padding: bool = False, add_noise_rate: Optional[float] = None, sparql_endpoint: Optional[str] = None, path_single_kg: Optional[str] = None, path_for_deserialization: Optional[str] = None, add_reciprocal: Optional[bool] = None, eval_model: Optional[str] = None, read_only_few: Optional[int] = None, sample_triples_ratio: Optional[float] = None, path_for_serialization: Optional[str] = None, entity_to_idx: Optional[Dict] = None, relation_to_idx: Optional[Dict] = None, backend: Optional[str] = None, training_technique: Optional[str] = None, separator: Optional[str] = None)

   Knowledge Graph container and processor.

   Handles loading, preprocessing, and indexing of knowledge graph data
   from various sources including files, SPARQL endpoints, and serialized formats.

   .. attribute:: dataset_dir

      Path to directory containing train/valid/test files.

   .. attribute:: num_entities

      Total number of unique entities.

   .. attribute:: num_relations

      Total number of unique relations.

   .. attribute:: train_set

      Indexed training triples as numpy array.

   .. attribute:: valid_set

      Indexed validation triples (optional).

   .. attribute:: test_set

      Indexed test triples (optional).

   .. attribute:: entity_to_idx

      Mapping from entity strings to indices.

   .. attribute:: relation_to_idx

      Mapping from relation strings to indices.


   .. py:attribute:: dataset_dir
      :value: None



   .. py:attribute:: sparql_endpoint
      :value: None



   .. py:attribute:: path_single_kg
      :value: None



   .. py:attribute:: byte_pair_encoding
      :value: False



   .. py:attribute:: ordered_shaped_bpe_tokens
      :value: None



   .. py:attribute:: add_noise_rate
      :value: None



   .. py:attribute:: num_entities
      :type:  Optional[int]
      :value: None



   .. py:attribute:: num_relations
      :type:  Optional[int]
      :value: None



   .. py:attribute:: path_for_deserialization
      :value: None



   .. py:attribute:: add_reciprocal
      :value: None



   .. py:attribute:: eval_model
      :value: None



   .. py:attribute:: read_only_few
      :value: None



   .. py:attribute:: sample_triples_ratio
      :value: None



   .. py:attribute:: path_for_serialization
      :value: None



   .. py:attribute:: entity_to_idx
      :value: None



   .. py:attribute:: relation_to_idx
      :value: None



   .. py:attribute:: backend
      :value: 'pandas'



   .. py:attribute:: training_technique
      :value: None



   .. py:attribute:: separator
      :value: None



   .. py:attribute:: raw_train_set
      :value: None



   .. py:attribute:: raw_valid_set
      :value: None



   .. py:attribute:: raw_test_set
      :value: None



   .. py:attribute:: train_set
      :value: None



   .. py:attribute:: valid_set
      :value: None



   .. py:attribute:: test_set
      :value: None



   .. py:attribute:: idx_entity_to_bpe_shaped
      :type:  Dict


   .. py:attribute:: enc


   .. py:attribute:: num_tokens


   .. py:attribute:: num_bpe_entities
      :type:  Optional[int]
      :value: None



   .. py:attribute:: padding
      :value: False



   .. py:attribute:: dummy_id


   .. py:attribute:: max_length_subword_tokens
      :type:  Optional[int]
      :value: None



   .. py:attribute:: train_set_target
      :value: None



   .. py:attribute:: target_dim
      :type:  Optional[int]
      :value: None



   .. py:attribute:: train_target_indices
      :value: None



   .. py:attribute:: ordered_bpe_entities
      :value: None



   .. py:attribute:: description_of_input
      :value: None



   .. py:method:: describe() -> None

      Generate a description string of the dataset statistics.



   .. py:property:: entities_str
      :type: List[str]


      Get list of all entity strings.


   .. py:property:: relations_str
      :type: List[str]


      Get list of all relation strings.


   .. py:method:: exists(h: str, r: str, t: str) -> bool

      Check if a triple exists in the training set.

      :param h: Head entity string.
      :param r: Relation string.
      :param t: Tail entity string.

      :returns: True if the triple exists, False otherwise.



   .. py:method:: __iter__() -> Iterator[Tuple[str, str, str]]

      Iterate over training triples as string tuples.



   .. py:method:: __len__() -> int

      Return number of triples in the raw training set.



   .. py:method:: func_triple_to_bpe_representation(triple: List[str])


